Ниже описаны требования пользователей сролью "Покупатель" в формате user story с трассировкой их на функциональне требования.
## Возможности покупателя при выборе товара
####  *1. Как покупатель я хочу видеть актуальную информацию о наличии товаров на складе, чтобы иметь возможность делать выбор в пользу того или иного товара*
1. Для всех неавторизованных посетителей сайта должна быть доступна экранная форма "Каталог" с перечнем всех товаров магазина
2. Требуется доработать UI таким образом, чтобы на странице с описанием товара была указана информация о возможности покупки товара
3. В каталоге сайта требуется показывать товар как доступный к покупке, если количество единиц товара с состояние "доступен" по данным БД больше нуля
4. В каталоге сайта требуется показывать товар как недоступный к покупке в данный момент, если количество единиц товара с состоянием "доступен" по данным БД равно нулю
5. Требуется доработать UI таким образом, чтобы на странице с описанием товара была указана информация о количестве товара на складе
6. Требуется доработать пользовательский интерфейс таким образом, чтобы у пользователя была возможность отфильтровать все товары на доступные/недоступные к покупке на данный момент
## Возможности покупателя при работе с корзиной 
####  *2. Как покупатель я хочу иметь возможность выбрать для товары, доступные на складе, чтобы формировать свой заказ из товаров, которые гарантировано могу купить*
1. Требуется реализовать экранную форму "Корзина" для покупателей сайта
2. На экранной форме "Каталог" требуется реализовать возможность перехода на экранную форму "Корзина"
3. Требуется реализовать возможность пользователю переместить в "корзину" товары, помеченные как доступные к покупке
4. На экранной форме "Корзина" требуется в виде списка выводить информацию о выбранных товарах
5. Требуется исключить возможность пользователю переместить в "корзину" товары, помеченные как недоступные к покупке
6. Для каждой единицы товара на экранной форме "Корзина" требуется выводить наименование товара, аналогичный указанному в каталоге
7. Для каждой единицы товара на экранной форме "Корзина" требуется выводить цену товара, аналогичную указанной в каталоге
8. Требуется отображать, что в корзине пусто,если пользователь не переместил в нее товары
9. Требуется указывать, что в корзине пусто при условии, что пользователь не переместил в неё товары
####  *3. Как покупатель я хочу видеть суммарную стоимость выбранных мной товаров, чтобы иметь возможность оперативно изменить список товаров*
1. На экранной форме "корзина" требуется выводить общую стоимость всех добавленных товаров
2. На экранной форме "корзина" требуется реализовать возможность удалить товары из списка
## Возможности покупателя при оформлении заказа
####  *4. Как покупатель я хочу самостоятельно оформить доставку, чтобы не пришлось дожидаться ответа оператора*
1. Требуется реализовать экранную форму "Доставка"
2. Необходимо реализовать возможность перехода на экранную форму "Доставка" с экранной формы "Корзина" при подтверждении пользователем  указанного в корзине списка товаров
3. Необходимо реализовать возможность обратного перехода на экранную форму "Корзина" с экранной формы "Доставка"
####  *5. Как покупатель я хочу указать адрес доставки, чтобы товар привезли в удобное для меня место получения*
1. На экранной форме "Доставка" требуется реализовать возможность клиенту указать адрес доставки заказа
2. Требуется реализовать алгоритм расчета стоимости доставки с учетом габаритов заказа и указанного адреса доставки. Правила расчета будут уточняться при реалиации алгоритма TBD
####  *6. Как покупатель я хочу знать стоимость доставки мебели по указанному мной адресу, чтобы иметь возможность оперативно изменить адрес до оформления заказа*
1. На экранной форме "Доставка" требуется выводить инофрмацию о стоимости доставки товара по указанному адресу
####  *7. Как покупатель я хочу выбрать время доставки, чтобы получить товар в удобное для меня время*
1. Требуется реализовать алгоритм рассчета времени доставки с учетом адреса доставки, габаритов заказа и загруженности службы доставки. Алогритм рассчета будет уточняться при реализации функциональности TBD
2. Требуется получать информацию о загруженности системы логистики. Интерфейс и перечень данных будет уточняться при реализации функциональности
####  *8. Как покупатель я хочу знать интервалы времени, в которые будет доступна доставка выбранного товара, чтобы исключить необходимость отменять заказ в случае, если время доставки меня не устроит*
1. На экранной форме "Доставка" требуется выводить пользователю список доступных интервалов времени доставки заказа
2. На экранной форме "Доставка" требуется реализовать возможность пользователю выбрать время доставки из предложенных вариантов
####  *9. Как покупатель я хочу иметь возможность отменить заказ при оформлении, если время или итоговая стоимость меня не устройили*
1. На экранной форме "Доставка" требуется реализовать возможность отменить заказ пользователем
####  *10. Как покупатель я хочу указать ФИО и номер телефона для получения заказа, чтобы со мной могла связаться служба доставки*
1. На экранной форме "Доставка" требуется реализовать возможность пользователю указать свое имя и фамилию
2. На экранной форме "Доставка" требуется реализовать возможность пользователю указать свой номер телефона
####  *11. Как покупатель я хочу иметь возможность подтвердить заказ с учетом выбранных товаров, итоговой стоимости заказа, адреса и времени доставки*
1. На экранной форме Доставка необходимо реализовать возможность подтвердить заказ пользователем
2. Требуется реализовать хранение информации о заказах: уникальный идентификатор, время зоздания, состав товаров, получатель, адрес и время доставки, стоимость, статус
3. После подтверждения заказа пользователем требуетмся сформировать заказ с уникальным идентификатором и поместить данные о заказе в БД 
4. После подтверждения заказа пользователем требуетмся сформированному заказу установить статус "Создан"
5. Требуется реализовать экранную форму "Заказ создан"
6. На экранной форме "Заказ создан" требуется выводить пользователю информацию об уникальном номере заказа, его составе, получателе, времени и адресе доставки и итоговой стоимости
7. Переход на экранную форму "Заказ создан" должен производиться при подтверждении заказа на экранной форме "Доставка"
####  *12. Как покупатель я хочу, чтобы оформленный в заказе товар был зарезервирован до момента оплаты, чтобы его не купил кто-то другой*
1. После подтверждении заказа пользователем требуется уменьшить количество товара, доступнное для покупки, для каждой единицы товара в заказе
2. Требуется реализовать ограничение по времени хранения единиц товара в состоянии "зарезервирован" по времени TBD минут
3. На экранной форме "Заказ создан" требуется вывости информацию покупателю о времени, за которое необходимо произвести оплату товара
4. По истечении времени, отведенного на оплату товара, заказ должен быть отменен автоматически с выводом соответствующего сообщения
5. При отмене заказа его атрибут "Статус"  должен переходить в состояние "Отменен"
6. При переходе заказа в статус "отменен" требуется увеличить количество товаров, доступное к покупке, за каждую единицу 
7. Дальнейшая обработка заказов в статусе "Отменен" не производится
## Возможности покупателя при оплате заказа
####  *13. Как покупатель я хочу оплачивать мои заказы онлайн, чтобы не требовалось оплачивать при получении*
1. Реализовать возможность пользователю перейти к оплате товара с экранной формы "Заказ создан"
2. Необходимо реализовать экранную форму "Оплата" 
3. Переход на экранную форму "Оплата" должен производиться с экранной формы "Заказ создан"
4. Необходимо реализовать интеграцию с платежной системой для возможности онлайн оплаты товаров
5. Необходимо реализовать возможность пользователю ввести данные карты на экранной форме "Оплата"
6. Необходимо реализовать возможность пользователю подтвердить оплату на экранной фомре "Оплата"
####  *14. Как покупатель я хочу получить подтверждение оплаты, чтобы убедиться, что мой заказ будет мне доставлен*
1. Необхоидмо реализовать оповещение клиента о результатах оплаты товара, а также о подтверждении заказа со стороны сайта.
2. После успешной оплаты товара требуется изменить атрибут состояния на "оплачен" для каждого товара в заказе
3. После успешной оплаты заказа его статус должен перейти из "Создан" в "Оплачен"
## Возможности покупателя при просмотре и изменении заказа
####  *15. Как пользователь я хочу иметь возможность просмотреть статус моего заказа, чтобы понимать ситуацию с с ним*
1. Необходимо создать экранную форму "Информация о заказе" 
2. Форма "Инфомрация о заказе" должна быть доступна без авторизации на сайте
3. На экранной форме "Информация о заказе" должна быть возможность указать номер заказа
4. При указании номера заказа пользователю должна выводиться инфомрация о заказе: изменения статусов, дата и время соответстсвующего события
5. В случае если заказ находится в статусе "Не доставлено" пользователю должна быть показана инфомарция о причинах, а также выведен номер телефона оператора для претензионной работы
####  *16. Как пользователь я хочу иметь возможность войти в систему, чтобы изменить мо заказ мог только я*
Необходимо добавить в ролевую модель пользователя с ролью "Клиент"
Вход в систему с ролью "Клиент" должен осуществляться только после предварительной аутентификации
Необходимо реализовать экранную форму "Мои заказы", доступную для пользователей с ролью "Клиент"
Логином пользователя должен быть его номер телефона
Связь между "Клиентом" и его заказами должна осуществляться по логину и номеру телефона, указанному в заказе
На экранной форме "Мои заказы" должен выводиться список всех заказов данного клиента
Реализовать возможность простмотреть инфомрацию о заказе при выборе его из списка "Мои заказы"
####  *17. Как пользователь я хочу иметь возможность изменить товары в моем заказе*
Реализовать возможность изменить состав товаров заказа при выборе его из списка "Мои заказы" при условии что заказ не находится в статусе "Передано в доставку", "Доставлено" или "Не доставлено"
Если заказ находится в статусе "Передано в доставку", "Доставлено" или "Не доставлено", то пользователю должно выводиться сообщение о невозможности изменить состав заказа
####  *18. Как сотрудник склада я хочу получать уведомление об изменениях товаров заказа, чтобы пересобрать его заново*
При изменении товаров заказа пользователем его статус должен измениться на "Требует изменения", если товар находится в статусе "Готов к отправке" 
При измении статуса заказа на "Требует измения" пользователю с ролью "Сотрудник склада" должно отправляться соответстсвующее уведомление"
Пользователь с ролью "Сотрудник склада" должен иметь возмоность перевести заказ из статуса "Требует измения" в "Готово к отправке"
Как пользователь я хочу иметь возможность изменить время доставки моего заказа


Реализовать возможность изменить время доставки заказа при выборе его из списка "Мои заказы"
Изменить время заказа можно в случае, если заказ не находится в статусе "Доставлено" или "Не доставлено"
Если заказ находится в статусе "Передано в доставку", то можно изменить время доставки только на более позднее

Как курьер я хочу знать об измениях времени доставки, чтобы иметь возможность вернуть заказ в список невыбранных

При изменении времени доставки заказа, находящегося в статусе "Передано в доставку" соответстсвующему курьеру должно отправляться уведомление

Как пользователь я хочу иметь возможность изменить адрес доставки моего заказа

Реализовать возможность изменить адрес доставки заказа при выборе его из списка "Мои заказы"
Изменить адрес доставки можно в случае, если заказ не находится в статусе "Доставлено" или "Не доставлено"
При изменении адреса доставки должен производиться повторный расчет времени доставки заказа
После расчета времени доставки заказа при изменении адреса доставки пользователю должно выводиться уведомление об измении времени доставки с необходимостью обязательного подтверждения нового времени пользователем

Как курьер я хочу знать об изменениях адреса доставки для товаров, которые я выбрал, чтобы иметь возможность оперативно вернуть заказ в список невыбранных
Если заказ находится в статусе "Передано в доставку", то соответствующему курьеру должно отправляться уведомление об изменении адреса доставки

Как пользователь я хочу иметь возможность изменить ФИО или номер телефона получателя	Реализовать возможность изменить ФИО получателя заказа при выборе его из списка "Мои заказы"
	Изменить номер телефона получателя можно в случае, если заказ не находится в статусе "Доставлено" или "Не доставлено"
	Изменить ФИО получателя можно в случае, если заказ не находится в статусе "Доставлено" или "Не доставлено"
  
Как курьер я хочу получать инофрмацию об изменениии данных получателя 	Если заказ находится в статусе "Передано в доставку", то соответствующему курьеру должно отправляться уведомление об изменении ФИО получателя
	Если заказ находится в статусе "Передано в доставку", то соответствующему курьеру должно отправляться уведомление об изменении номера телефона получателя
Как пользователь я хочу иметь возможность отменить свой заказ	Возможность отменить заказ должна быть доступна из экранной форму "Мои заказы"
	При отмене заказа, находящегося в статусе "Создан" и выше  его статус должен измениться на "Отменен"
Как курьер я хочу иметь возможность вернуть заказ в список невыбранных (отказаться от доставки)	При отмене заказа, находящегося в статусе "Оплачен" и выше должен осуществляться возврат средств клиенту
	При отмене заказа, находящегося в статусе "Готов к отправке"  необходимо отправить соответствующее уведомление пользователю с ролью "Сотрудник склада"
	При отмене заказа в статусе "Передано в доставку" необходимо отправить соответствующее уведомление пользователю с ролью "Курьер"
	Отмена заказа в статусе "Доставлено" должна быть недоступна
	При отмене заказа в статусе "Не доставлено", статус должен измениться на "Отменен"


