# Наблюдаемость системы

Представьте 3–5 метрик, которые будут показывать работоспособность основных сервисов с точки зрения бизнеса.

Процент поисковых запросов на сайте за час - данная метрика показывает работоспособность сайта, интаграции с каталогом товаров (а значит и с корневой системой создания ассортимента мебели) 
Процент оплаченных заказов за час - если процент равен нулю, то это может свидетельствовать о проблемах в интеграциях с системой оплаты/платежными системами/недоступности всего сайта или отдельных его функциональностей для клиента
Процент измененных статусов заказов за час - так как статусная модель заказа затрагивает почти все агрегаты, то данная метрика может позволяет отслеживать общее состояние всей системы магазина, складской системы, системы доставки и оплаты товаров

Опишите, какие подходы к централизованному сбору логов будут применены в системе, и показать почему. 
Для этого задания воспользуйтесь схемой концептуальной архитектуры (см. домашнее задание к модулю 13) и покажите на ней, как будут размещены дополнительные компоненты.

Ранее в системе был добавлен агрегат "Сбойные ситуации", обладающий своим  UI для сотрудников, обеспечивающих сопровождение системы. 

![alt tag](https://github.com/chukichaeva/1corns-homework/blob/main/img/apigateway.png)

К данному модулю системы можно добавить логи, метрики, трассировку, чтобы при разборе инцидентов или сбойных ситуаций сотрудник в одном месте мог отследить произошедшие события
Также здесь уместно разместить еще и возможность просмотра метрик, т.к. при проблемах в системе и уведомлениях сотрудник сопровождения также здесь в одном месте может просмотреть метрику, просмотреть логи, и самое главное - здесь же оперативно принять необходимые меры для устранения проблем

Для хранения логов используем БД, отвечающую за (с ней и взаимодействует агрегат "Сбойные ситуации")
Логи можно хранить с глубиной даты не более месяца. За это время сотрудники компании должны произвести расследование инцидентов и принять необходимые меры (ну или хотя бы решения по устранению причин отказов)

Для бизнес-анализа ипользуется система статистики, куда записывается вся необходимая информация и собираемые метрики "на дистанции", поэтому для целей развития бизнеса и изучения коиентского опыта перемешивать логирование для обеспечения технической отказоустойчивости и бизнес-логики не обязательно.

![alt tag](https://github.com/chukichaeva/1corns-homework/blob/main/img/log.png)

Опишите дальнейшее развитие характеристики наблюдаемости в системе. Какие принципы, правила, рекомендации вы дадите командам разработчиков как архитектор? 
При разработке ПО еще на стадии проектирования необходимо предусматривать отправку сообзений в систему логирования и бойных ситуаций. 
Для этого для систем, которые работают внутри только с сотрудниками предлагается подготовить отдельную библиотеку компонентов, которая может быть переиспользана на проекте разными командами.
Это позволит снизить трудозатраты разработчиков и сделать сообщения единообразными. 
Для систем, работающих с клиентом на сайте требуется подготовить отдельный компонент для сбора логов, который при записи логов и при записи статистики по сайту будет также обезличивать клиентские данные. Для сотрудников этого делать необязательно, т.к. для идентификации можно воспользоваться персональным ID сотрудника и эту информацию уже использовтаь при хранении логов.
